{"version":3,"sources":["webpack:///./src/api/profile.js","webpack:///./src/views/uc/info.vue?c15a","webpack:///./src/views/uc/info.vue?40d9","webpack:///src/views/uc/info.vue","webpack:///./src/views/uc/info.vue?e618","webpack:///./src/views/uc/info.vue"],"names":["group_name","api_name","userInfo","request","url","method","updateuserInfo","info","setName","nickname","data","findUserHeadImg","accountPass","pass","render","_vm","this","_h","$createElement","_c","_self","_v","attrs","staticClass","headImgUrl","staticStyle","on","$event","dialogUpdateHead","ref","importHeaders","beforeAvatarUpload","uploadHeadSuccess","uploadHeadError","handleRemove","directives","name","rawName","value","expression","slot","showInfo","_s","_e","userMail","_f","sex","userQq","birthday","homecity","school","grade","introduce","model","callback","$$v","$set","_l","item","key","label","CancelInfo","UpdateInfo","staticRenderFns","component"],"mappings":"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","file":"js/chunk-7e3e0ee7.41319256.js","sourcesContent":["import request from '@/util/request'\r\nimport { setName } from '@/util/auth'\r\nconst group_name='v2'\r\nconst api_name='user'\r\n export function userInfo() {\r\n    return request({\r\n      url: `/${group_name}/${api_name}/userInfo`,\r\n      method: 'post',\r\n    })\r\n  }\r\n  export function updateuserInfo(info) {\r\n    setName(info.nickname)\r\n    return request({\r\n      url: `/${group_name}/${api_name}/updateUcInfo`,\r\n      method: 'post',\r\n      data: info\r\n    })\r\n  }\r\n  export function uploadImg(formData) {\r\n    return request({\r\n      url: `/${group_name}/${api_name}/uploadHeadImg`,\r\n      method: 'post',\r\n      data: formData\r\n    })\r\n  }\r\n\r\n  export function findUserHeadImg() {\r\n    return request({\r\n      url: `/${group_name}/${api_name}/findUserHeadImg`,\r\n      method: 'post'\r\n    })\r\n  }\r\n\r\n  export function accountPass(pass) {\r\n    return request({\r\n      url: `/${group_name}/${api_name}/updateUserPassword`,\r\n      method: 'post',\r\n      data: {\r\n        pass\r\n      }\r\n    })\r\n  }","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.7.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=style&index=0&id=6518155c&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.7.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=style&index=0&id=6518155c&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-main',[_c('h3',[_c('strong',[_vm._v(\"个人资料\")])]),_c('br'),_c('hr'),_c('br'),_c('el-container',[_c('el-aside',{attrs:{\"width\":\"120px\"}},[_c('div',{staticClass:\"demo-type\"},[_c('div',[_c('el-avatar',{attrs:{\"size\":100,\"src\":_vm.info.headImgUrl}})],1),_c('el-button',{staticStyle:{\"margin-left\":\"22px\",\"padding\":\"3px 0\"},attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.dialogUpdateHead = true}}},[_vm._v(\"修改头像\")])],1),_c('el-dialog',{attrs:{\"title\":\"修改头像\",\"visible\":_vm.dialogUpdateHead,\"width\":\"20%\",\"modal-append-to-body\":false},on:{\"update:visible\":function($event){_vm.dialogUpdateHead=$event}}},[_c('el-upload',{ref:\"img\",staticClass:\"elupload_HeadImg\",attrs:{\"name\":\"file\",\"action\":\"http://localhost:9001/user/uploadHeadImg\",\"headers\":_vm.importHeaders,\"list-type\":\"picture-card\",\"limit\":1,\"show-file-list\":false,\"before-upload\":_vm.beforeAvatarUpload,\"on-success\":_vm.uploadHeadSuccess,\"on-error\":_vm.uploadHeadError,\"on-remove\":_vm.handleRemove}},[_c('i',{staticClass:\"el-icon-plus\"})]),_c('br'),_vm._v(\"               \\n                  （上传头像后自动保存修改头像）\\n                  \")],1)],1),_c('el-main',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[_c('el-card',{staticClass:\"box-card\",attrs:{\"shadow\":\"never\"}},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('h4',{staticStyle:{\"margin-left\":\"500px\"}},[_vm._v(\"今天不学习，明天变垃圾\")]),_c('el-button',{staticStyle:{\"float\":\"right\",\"padding\":\"3px 0\"},attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.showInfo = false}}},[_vm._v(\"修改资料\")])],1),(_vm.showInfo)?_c('div',{staticClass:\"text item\"},[_c('span',[_vm._v(\"昵称：\"+_vm._s(_vm.info.nickname))])]):_vm._e(),(_vm.showInfo)?_c('div',{staticClass:\"text item\"},[_c('span',[_vm._v(\"邮箱：\"+_vm._s(_vm.info.userMail))])]):_vm._e(),(_vm.showInfo)?_c('div',{staticClass:\"text item\"},[_c('span',[_vm._v(\"性别：\"+_vm._s(_vm._f(\"sex\")(_vm.info.sex)))])]):_vm._e(),(_vm.showInfo)?_c('div',{staticClass:\"text item\"},[_c('span',[_vm._v(\"  QQ：\"+_vm._s(_vm.info.userQq))])]):_vm._e(),(_vm.showInfo)?_c('div',{staticClass:\"text item\"},[_c('span',[_vm._v(\"生日：\"+_vm._s(_vm._f(\"formatData\")(_vm.info.birthday)))])]):_vm._e(),(_vm.showInfo)?_c('div',{staticClass:\"text item\"},[_c('span',[_vm._v(\"家乡：\"+_vm._s(_vm.info.homecity))])]):_vm._e(),(_vm.showInfo)?_c('div',{staticClass:\"text item\"},[_c('span',[_vm._v(\"学校：\"+_vm._s(_vm.info.school))])]):_vm._e(),(_vm.showInfo)?_c('div',{staticClass:\"text item\"},[_c('span',[_vm._v(\"年级：\"+_vm._s(_vm.info.grade))])]):_vm._e(),(_vm.showInfo)?_c('div',{staticClass:\"text item\"},[_c('span',[_vm._v(\"个人简介：\"+_vm._s(_vm.info.introduce))])]):_vm._e(),(!_vm.showInfo)?_c('div',{staticClass:\"text item\"},[_c('span',[_vm._v(\"昵称：\")]),_c('el-input',{staticClass:\"infoInput\",attrs:{\"size\":\"small\",\"placeholder\":\"请输入内容\",\"maxlength\":\"10\",\"show-word-limit\":\"\"},model:{value:(_vm.info.nickname),callback:function ($$v) {_vm.$set(_vm.info, \"nickname\", $$v)},expression:\"info.nickname\"}})],1):_vm._e(),(!_vm.showInfo)?_c('div',{staticClass:\"text item\"},[_c('span',[_vm._v(\"邮箱：\")]),_c('el-input',{staticClass:\"infoInput\",attrs:{\"size\":\"small\",\"placeholder\":\"请输入内容\"},model:{value:(_vm.info.userMail),callback:function ($$v) {_vm.$set(_vm.info, \"userMail\", $$v)},expression:\"info.userMail\"}})],1):_vm._e(),(!_vm.showInfo)?_c('div',{staticClass:\"text item\"},[_c('span',[_vm._v(\"性别：\")]),_c('el-radio',{attrs:{\"label\":\"1\"},model:{value:(_vm.info.sex),callback:function ($$v) {_vm.$set(_vm.info, \"sex\", $$v)},expression:\"info.sex\"}},[_vm._v(\"男\")]),_c('el-radio',{attrs:{\"label\":\"0\"},model:{value:(_vm.info.sex),callback:function ($$v) {_vm.$set(_vm.info, \"sex\", $$v)},expression:\"info.sex\"}},[_vm._v(\"女\")])],1):_vm._e(),(!_vm.showInfo)?_c('div',{staticClass:\"text item\"},[_c('span',[_vm._v(\"  QQ：\")]),_c('el-input',{staticClass:\"infoInput\",attrs:{\"size\":\"small\",\"placeholder\":\"请输入内容\",\"maxlength\":\"10\",\"show-word-limit\":\"\"},model:{value:(_vm.info.userQq),callback:function ($$v) {_vm.$set(_vm.info, \"userQq\", $$v)},expression:\"info.userQq\"}})],1):_vm._e(),(!_vm.showInfo)?_c('div',{staticClass:\"text item\"},[_c('span',[_vm._v(\"生日：\")]),_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.info.birthday),callback:function ($$v) {_vm.$set(_vm.info, \"birthday\", $$v)},expression:\"info.birthday\"}})],1):_vm._e(),(!_vm.showInfo)?_c('div',{staticClass:\"text item\"},[_c('span',[_vm._v(\"家乡：\")]),_c('el-input',{staticClass:\"infoInput\",attrs:{\"size\":\"small\",\"placeholder\":\"请输入内容\"},model:{value:(_vm.info.homecity),callback:function ($$v) {_vm.$set(_vm.info, \"homecity\", $$v)},expression:\"info.homecity\"}})],1):_vm._e(),(!_vm.showInfo)?_c('div',{staticClass:\"text item\"},[_c('span',[_vm._v(\"学校：\")]),_c('el-input',{staticClass:\"infoInput\",attrs:{\"size\":\"small\",\"placeholder\":\"请输入内容\",\"maxlength\":\"10\",\"show-word-limit\":\"\"},model:{value:(_vm.info.school),callback:function ($$v) {_vm.$set(_vm.info, \"school\", $$v)},expression:\"info.school\"}})],1):_vm._e(),(!_vm.showInfo)?_c('div',{staticClass:\"text item\"},[_c('span',[_vm._v(\"年级：\")]),_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.info.grade),callback:function ($$v) {_vm.$set(_vm.info, \"grade\", $$v)},expression:\"info.grade\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1):_vm._e(),(!_vm.showInfo)?_c('div',{staticClass:\"text item\"},[_c('span',[_vm._v(\"简介：\")]),_c('el-input',{staticClass:\"infoInput\",attrs:{\"size\":\"small\",\"placeholder\":\"请输入内容\"},model:{value:(_vm.info.introduce),callback:function ($$v) {_vm.$set(_vm.info, \"introduce\", $$v)},expression:\"info.introduce\"}})],1):_vm._e(),(!_vm.showInfo)?_c('el-button',{staticClass:\"infocancelbut\",on:{\"click\":function($event){return _vm.CancelInfo()}}},[_vm._v(\"取 消\")]):_vm._e(),(!_vm.showInfo)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.UpdateInfo()}}},[_vm._v(\"更 改\")]):_vm._e()],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <el-main>\r\n        <h3><strong>个人资料</strong></h3>\r\n        <br /><hr /><br />\r\n        \r\n        \r\n            <el-container>\r\n                <el-aside width=\"120px\">\r\n                    \r\n                        \r\n                    <div class=\"demo-type\">\r\n                        <div>\r\n                            <el-avatar :size=\"100\" v-bind:src=\"info.headImgUrl\"></el-avatar>\r\n                        </div>\r\n                        \r\n                        <!-- <el-button style=\"margin-left: 22px; padding: 3px 0\" type=\"text\" @click=\"UpdateHeadImg\">修改头像</el-button> -->\r\n                        <el-button style=\"margin-left: 22px; padding: 3px 0\" type=\"text\" @click=\"dialogUpdateHead = true\">修改头像</el-button>\r\n                    </div>\r\n\r\n                    <el-dialog\r\n                      title=\"修改头像\"\r\n                      :visible.sync=\"dialogUpdateHead\"\r\n                      width=\"20%\"\r\n                      :modal-append-to-body=\"false\">\r\n\r\n                      <el-upload\r\n                      class=\"elupload_HeadImg\"\r\n                        name=\"file\"\r\n                        ref=\"img\"\r\n                        action=\"http://localhost:9001/user/uploadHeadImg\"\r\n                        :headers=\"importHeaders\"\r\n                        list-type=\"picture-card\"\r\n                        :limit=\"1\"   \r\n                        :show-file-list=\"false\"     \r\n                        :before-upload=\"beforeAvatarUpload\"\r\n                        :on-success=\"uploadHeadSuccess\"\r\n                        :on-error=\"uploadHeadError\"\r\n                        :on-remove=\"handleRemove\">\r\n                        <!-- <img v-if=\"imageUrl\" :src=\"info.headImgUrl\" class=\"avatar\">\r\n                        <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i> -->\r\n                        <i class=\"el-icon-plus\"></i>\r\n                      </el-upload>\r\n                      <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                      （上传头像后自动保存修改头像）\r\n                      <!-- <el-dialog :visible.sync=\"dialogVisible\" :modal-append-to-body=\"false\">\r\n                        <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\">\r\n                      </el-dialog> -->\r\n                      <!-- <span slot=\"footer\" class=\"dialog-footer\">\r\n                        <el-button @click=\"dialogUpdateHead = false\">取 消</el-button>\r\n                        <el-button type=\"primary\" @click=\"uploadHeadImg()\">上传头像</el-button>\r\n                      </span> -->\r\n                    </el-dialog>\r\n\r\n                </el-aside>\r\n                \r\n                <el-main v-loading=\"loading\">\r\n                        <el-card class=\"box-card\" shadow=\"never\">\r\n                          <div slot=\"header\" class=\"clearfix\">\r\n                            <h4 style=\"margin-left: 500px;\">今天不学习，明天变垃圾</h4>\r\n                            <!-- <el-button style=\"float: right; padding: 3px 0\" type=\"text\" @click=\"dialogFormVisible = true\">修改资料1</el-button> -->\r\n                            <el-button style=\"float: right; padding: 3px 0\" type=\"text\" @click=\"showInfo = false\">修改资料</el-button>\r\n                            <!-- <el-button style=\"float: right; padding: 3px 0\" type=\"text\" @click=\"showInfo = true\">buxiugai</el-button> -->\r\n                          </div>\r\n\r\n                            <div class=\"text item\" v-if=\"showInfo\"><span>昵称：{{info.nickname}}</span></div>\r\n                            <!-- <div class=\"text item\" v-if=\"showInfo\"><span>手机：{{info.userPhone}}</span></div> -->\r\n                            <div class=\"text item\" v-if=\"showInfo\"><span>邮箱：{{info.userMail}}</span></div>\r\n                            <div class=\"text item\" v-if=\"showInfo\"><span>性别：{{info.sex | sex}}</span></div>\r\n                            <div class=\"text item\" v-if=\"showInfo\"><span>&nbsp;&nbsp;QQ：{{info.userQq}}</span></div>\r\n                            <div class=\"text item\" v-if=\"showInfo\"><span>生日：{{info.birthday | formatData}}</span></div>\r\n                            <div class=\"text item\" v-if=\"showInfo\"><span>家乡：{{info.homecity}}</span></div>\r\n                            <div class=\"text item\" v-if=\"showInfo\"><span>学校：{{info.school}}</span></div>\r\n                            <div class=\"text item\" v-if=\"showInfo\"><span>年级：{{info.grade}}</span></div>\r\n                            <div class=\"text item\" v-if=\"showInfo\"><span>个人简介：{{info.introduce}}</span></div>\r\n\r\n                            <div class=\"text item\" v-if=\"!showInfo\"><span>昵称：</span>\r\n                                <el-input class=\"infoInput\" size=\"small\" v-model=\"info.nickname\" placeholder=\"请输入内容\" maxlength=\"10\" show-word-limit></el-input>\r\n                            </div>\r\n                            <div class=\"text item\" v-if=\"!showInfo\"><span>邮箱：</span>\r\n                                <el-input class=\"infoInput\" size=\"small\" v-model=\"info.userMail\" placeholder=\"请输入内容\"></el-input>\r\n                            </div>\r\n                          \r\n                            <div class=\"text item\" v-if=\"!showInfo\"><span>性别：</span>\r\n                              <el-radio v-model=\"info.sex\" label=\"1\">男</el-radio>\r\n                              <el-radio v-model=\"info.sex\" label=\"0\">女</el-radio>\r\n                            </div>\r\n                            <div class=\"text item\" v-if=\"!showInfo\"><span>&nbsp;&nbsp;QQ：</span>\r\n                              <el-input class=\"infoInput\" size=\"small\" v-model=\"info.userQq\" placeholder=\"请输入内容\" maxlength=\"10\" show-word-limit></el-input>\r\n                            </div>\r\n                            <div class=\"text item\" v-if=\"!showInfo\"><span>生日：</span>\r\n                              <!-- <el-input class=\"infoInput\" size=\"small\" v-model=\"info.birthday\" placeholder=\"请输入内容\"></el-input> -->\r\n                              <el-date-picker\r\n                                v-model=\"info.birthday\"\r\n                                type=\"date\"\r\n                                placeholder=\"选择日期\">\r\n                              </el-date-picker>\r\n                            </div>\r\n                            <div class=\"text item\" v-if=\"!showInfo\"><span>家乡：</span>\r\n                              <el-input class=\"infoInput\" size=\"small\" v-model=\"info.homecity\" placeholder=\"请输入内容\"></el-input>\r\n                              \r\n                            </div>\r\n                            <div class=\"text item\" v-if=\"!showInfo\"><span>学校：</span>\r\n                              <el-input class=\"infoInput\" size=\"small\" v-model=\"info.school\" placeholder=\"请输入内容\" maxlength=\"10\" show-word-limit></el-input>\r\n                            </div>\r\n                            <div class=\"text item\" v-if=\"!showInfo\"><span>年级：</span>\r\n                            \r\n                              <el-select v-model=\"info.grade\" placeholder=\"请选择\">\r\n                                <el-option\r\n                                  v-for=\"item in options\"\r\n                                  :key=\"item.value\"\r\n                                  :label=\"item.label\"\r\n                                  :value=\"item.value\">\r\n                                </el-option>\r\n                              </el-select>\r\n                            </div>\r\n                            <div class=\"text item\" v-if=\"!showInfo\"><span>简介：</span>\r\n                              <el-input class=\"infoInput\" size=\"small\" v-model=\"info.introduce\" placeholder=\"请输入内容\"></el-input>\r\n                            </div>\r\n                            <el-button class=\"infocancelbut\" v-if=\"!showInfo\" @click=\"CancelInfo()\">取 消</el-button>\r\n                            <el-button v-if=\"!showInfo\" type=\"primary\" @click=\"UpdateInfo()\">更 改</el-button>\r\n\r\n                            \r\n                                <!-- <md-dialog-alert\r\n                                  :md-active.sync=\"dialoginfo\"\r\n                                  md-title=\"Post created!\"\r\n                                  md-content=\"Your post <strong>Material Design is awesome</strong> has been created.\" >\r\n                                  \r\n                                </md-dialog-alert> -->\r\n\r\n                            \r\n\r\n                                \r\n                              \r\n                            <!-- <el-dialog title=\"用户信息\" :visible.sync=\"dialogFormVisible\">\r\n                                <el-form label-width=\"80px\">\r\n                                  <el-form-item label=\"昵称\">\r\n                                      <el-input v-model=\"info.nickname\"  placeholder=\"用户昵称\"></el-input>\r\n                                  </el-form-item>\r\n                                </el-form>\r\n                                \r\n                                \r\n                                <div slot=\"footer\" class=\"dialog-footer\">\r\n                                  <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n                                  <el-button type=\"primary\" @click=\"dialogFormVisible = false\">确 定</el-button>\r\n                                </div>\r\n                            </el-dialog> -->\r\n                            \r\n                        </el-card>\r\n\r\n                        \r\n                        \r\n                        \r\n                \r\n                </el-main>\r\n            </el-container>\r\n            \r\n        \r\n\r\n    </el-main>\r\n</template>\r\n\r\n<script>\r\n//import { userInfo, updateuserInfo, uploadImg } from '@/api/profile'\r\nimport { userInfo, updateuserInfo, findUserHeadImg } from '@/api/profile'\r\nimport { getToken, setHeadImg } from '@/util/auth'\r\nimport axios from 'axios'\r\nimport aes from '@/util/aes'\r\n  export default {\r\n    data () {\r\n      return {\r\n        info:{},\r\n        showInfo: true,\r\n        dialoginfo: false,\r\n        loading: false,\r\n        dialogUpdateHead: false,\r\n        dialogImageUrl: '',\r\n        dialogVisible: false,\r\n       // imageUrl: '',\r\n        importHeaders: {\r\n            'Authorization': 'Bearer ' + getToken(),\r\n            'Timestamp': aes.encrypt(new Date().getTime())\r\n        },\r\n         options: [{\r\n          value: '2013',\r\n          label: '2013级'\r\n        },{\r\n          value: '2014',\r\n          label: '2014级'\r\n        },{\r\n          value: '2015',\r\n          label: '2015级'\r\n        },{\r\n          value: '2016',\r\n          label: '2016级'\r\n        }, {\r\n          value: '2017',\r\n          label: '2017级'\r\n        }, {\r\n          value: '2018',\r\n          label: '2018级'\r\n        }, {\r\n          value: '2019',\r\n          label: '2019级'\r\n        }, {\r\n          value: '2020',\r\n          label: '2020级'\r\n        }],\r\n        \r\n      }\r\n    },\r\n    methods: {\r\n      uploadHeadSuccess() {\r\n        this.loading = true\r\n        findUserHeadImg().then(response => {\r\n          this.data = response.data\r\n          this.info.headImgUrl = this.data\r\n          setHeadImg(this.data)\r\n          console.log(this.data)\r\n        })\r\n        this.dialogUpdateHead = false;\r\n        this.loading = false\r\n        this.$message({\r\n                message: '头像修改成功！',\r\n                type: 'success'\r\n              });\r\n      },\r\n      uploadHeadError() {\r\n        this.dialogUpdateHead = false;\r\n        this.loading =false\r\n        this.$message.error('头像修改失败！');\r\n      },\r\n      handleRemove(file, fileList) {\r\n        console.log(file, fileList);\r\n      },\r\n      handlePictureCardPreview(file) {\r\n        this.dialogImageUrl = file.url;\r\n        this.dialogVisible = true;\r\n      },\r\n      uploadHeadImg(file) {\r\n        \r\n         let formData = new FormData();\r\n         formData.append('file', file)\r\n        // uploadImg(this.formData).then(response => {\r\n        //   console.log(response.data.code)\r\n        // })\r\n        console.log(file)\r\n        axios.post('http://localhost:9020/v2/user/uploadHeadImg', formData, { headers: { 'Content-Type': 'multipart/form-data' , 'Timestamp': aes.encrypt(new Date().getTime())} }).then(response => {\r\n          console.log(response.data.code)\r\n        })\r\n        \r\n       // this.$refs.uploadImg.submit();\r\n        //this.dialogUpdateHead = false\r\n        \r\n\r\n      },\r\n      // handleAvatarSuccess(res, file) {\r\n      //   this.info.headImgUrl = URL.createObjectURL(file.raw);\r\n      // },\r\n      beforeAvatarUpload(file) {\r\n        const isJPG = file.type === 'image/jpeg';\r\n        const isLt2M = file.size / 1024 / 1024 < 1;\r\n\r\n        if (!isJPG) {\r\n          this.$message.error('上传头像图片只能是 JPG 格式!');\r\n          return isJPG;\r\n        }\r\n        if (!isLt2M) {\r\n          this.$message.error('上传头像图片大小不能超过 1MB!');\r\n          return isLt2M\r\n        }\r\n      },\r\n      getUserInfo() {\r\n          userInfo().then(response => {\r\n            //console.log(response.data.data)\r\n            this.info = response.data\r\n            this.info.sex = this.info.sex.toString()\r\n          })\r\n      },\r\n      UpdateInfo(info) {\r\n        if(this.info.nickname.trim() === '' || this.info.nickname.trim() === undefined || this.info.nickname.trim() === null) {\r\n          this.$message.error('昵称不能为空！');\r\n          return false;\r\n        }\r\n         this.loading = true;\r\n         updateuserInfo(this.info).then(response => {\r\n           if(response.code === 200){\r\n             this.getUserInfo()\r\n             this.showInfo = true\r\n             this.loading = false;\r\n              this.$message({\r\n                message: '信息修改成功！',\r\n                type: 'success'\r\n              });\r\n           }else{\r\n              this.loading = false;\r\n              this.$message.error(response.msg);\r\n           }\r\n         }).catch(() => {\r\n              this.loading = false;\r\n      })\r\n      },\r\n      CancelInfo() {\r\n        //this.loading = true;\r\n        this.getUserInfo()\r\n        //this.loading = false;\r\n        this.showInfo = true\r\n      }\r\n      \r\n    },\r\n   \r\n    created() {\r\n      this.getUserInfo()\r\n    },\r\n    filters: {\r\n      formatData: function (value) {\r\n      let date = new Date(value);\r\n        let y = date.getFullYear();\r\n        let MM = date.getMonth() + 1;\r\n        MM = MM < 10 ? ('0' + MM) : MM;\r\n        let d = date.getDate();\r\n        d = d < 10 ? ('0' + d) : d;\r\n        return y + '-' + MM + '-' + d;\r\n       },\r\n       sex: function(value) {\r\n         if(value === '1') {\r\n          return '男'\r\n         }else{\r\n          return '女'\r\n        }\r\n       }\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n \r\n .elupload_HeadImg {\r\n   margin-left: 85px;\r\n }\r\n\r\n .infocancelbut {\r\n   margin-top: 30px;\r\n   margin-left: 40px;\r\n }\r\n\r\n .infoInput {\r\n   //margin-left: 40px;\r\n   //margin-top: -22px;\r\n   width: 300px;\r\n }\r\n\r\n .text {\r\n    font-size: 14px;\r\n  }\r\n\r\n  .item {\r\n    margin-bottom: 58px;\r\n  }\r\n  \r\n  .el-card {\r\n    border: 0px;\r\n  }\r\n\r\n  .clearfix:before,\r\n  .clearfix:after {\r\n    display: table;\r\n    content: \"\";\r\n  }\r\n  .clearfix:after {\r\n    clear: both\r\n  }\r\n\r\n  .box-card {\r\n    width: 1400px;\r\n  }\r\n\r\n  .el-header, .el-footer {\r\n    //background-color: #B3C0D1;\r\n    //color: #333;\r\n    text-align: left;\r\n    line-height: 0px;\r\n  }\r\n  \r\n  .el-aside {\r\n    //background-color: #D3DCE6;\r\n    //color: #333;\r\n    text-align: left;\r\n    line-height: 0px;\r\n  }\r\n  \r\n  .el-main {\r\n    //background-color: #E9EEF3;\r\n    color: #333;\r\n    text-align: left;\r\n    line-height: 0px;\r\n  }\r\n  \r\n  body > .el-container {\r\n    margin-bottom: 40px;\r\n  }\r\n  \r\n  .el-container:nth-child(5) .el-aside,\r\n  .el-container:nth-child(6) .el-aside {\r\n    line-height: 25px;\r\n  }\r\n  \r\n  .el-container:nth-child(7) .el-aside {\r\n    line-height: 20px;\r\n  }\r\n\r\n\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./info.vue?vue&type=template&id=6518155c&scoped=true&\"\nimport script from \"./info.vue?vue&type=script&lang=js&\"\nexport * from \"./info.vue?vue&type=script&lang=js&\"\nimport style0 from \"./info.vue?vue&type=style&index=0&id=6518155c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.7.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6518155c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}