(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cfa782d0"],{"5daa":function(t,s,e){t.exports=e.p+"bdx-frontend/img/profile_city.435c148e.jpg"},a55b:function(t,s,e){"use strict";e.r(s);var o=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"wrapper"},[e("div",{staticClass:"section page-header header-filter",style:t.headerStyle},[e("div",{staticClass:"container"},[e("div",{staticClass:"md-layout"},[e("div",{staticClass:"md-layout-item md-size-33 md-small-size-66 md-xsmall-size-100 md-medium-size-40 mx-auto"},[e("login-card",{attrs:{"header-color":"green"}},[e("h4",{staticClass:"card-title",attrs:{slot:"title"},slot:"title"},[t._v("第三方(暂未开通)")]),e("md-button",{class:t.logincard?"md-simple md-success md-lg":"md-simple md-error md-lg",attrs:{slot:"button",id:"pslogin"},on:{click:function(s){t.logincard=!0}},slot:"button"},[t._v("\n              密码登录\n            ")]),e("md-button",{class:t.logincard?"md-simple md-error md-lg":"md-simple md-success md-lg",attrs:{slot:"button"},on:{click:function(s){t.logincard=!1}},slot:"button"},[t._v("\n              免密登录\n            ")]),e("md-field",{staticClass:"md-form-group",attrs:{slot:"inputs"},slot:"inputs"},[e("md-icon",[t._v("phone_android")]),e("label",[t._v("手机号...")]),e("md-input",{model:{value:t.loginUser.username,callback:function(s){t.$set(t.loginUser,"username",s)},expression:"loginUser.username"}})],1),e("md-field",{directives:[{name:"show",rawName:"v-show",value:t.logincard,expression:"logincard"}],staticClass:"md-form-group",attrs:{slot:"inputs"},slot:"inputs"},[e("md-icon",[t._v("lock_outline")]),e("label",[t._v("密码...")]),e("md-input",{attrs:{type:"password"},model:{value:t.loginUser.password,callback:function(s){t.$set(t.loginUser,"password",s)},expression:"loginUser.password"}})],1),e("md-field",{directives:[{name:"show",rawName:"v-show",value:!t.logincard,expression:"!logincard"}],staticClass:"md-form-group",attrs:{slot:"inputs"},slot:"inputs"},[e("md-icon",[t._v("chat_bubble_outline")]),e("label",[t._v("6位数字验证码")]),e("md-input",{model:{value:t.loginUser.logincode,callback:function(s){t.$set(t.loginUser,"logincode",s)},expression:"loginUser.logincode"}}),e("md-button",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"md-primary md-raised",attrs:{id:"smsbutton"},on:{click:function(s){return t.SendSms()}}},[t._v("获取验证码")]),e("md-button",{directives:[{name:"show",rawName:"v-show",value:!t.show,expression:"!show"}],staticClass:"md-primary md-raised",attrs:{id:"smsbutton"}},[t._v(t._s(t.count)+"秒")])],1),e("md-button",{directives:[{name:"show",rawName:"v-show",value:t.logincard,expression:"logincard"}],staticClass:"md-simple md-success md-lg",attrs:{slot:"footer"},on:{click:function(s){return t.login()}},slot:"footer"},[t._v("\n              密码登录\n            ")]),e("md-button",{directives:[{name:"show",rawName:"v-show",value:!t.logincard,expression:"!logincard"}],staticClass:"md-simple md-success md-lg",attrs:{slot:"footer",id:"nopasswordlogin"},on:{click:function(s){return t.codelogin()}},slot:"footer"},[t._v("\n              免密登录\n            ")])],1),e("md-dialog-alert",{attrs:{"md-active":t.smsdialog,"md-content":"短信验证码发送成功，请留意手机短信通知噢","md-confirm-text":"知道啦!"},on:{"update:mdActive":function(s){t.smsdialog=s},"update:md-active":function(s){t.smsdialog=s}}})],1)])])])])},n=[],i=e("2af9"),a=e("c24f"),r=(e("0a5a"),e("7893")),l=e("c54a"),c=60,d={name:"login",components:{LoginCard:i["b"]},bodyClass:"login-page",data:function(){return{loginUser:{username:"",password:"",logincode:""},info:{},smsdialog:!1,show:!0,count:"",timer:null,logincard:!0,options:{text:"登陆中..."}}},props:{header:{type:String,default:e("5daa")}},computed:{headerStyle:function(){return{backgroundImage:"url(".concat(this.header,")")}}},methods:{login:function(){var t=this;if(!Object(l["b"])(this.loginUser.username))return this.$message.error("请输入正确的手机号格式！"),!1;if(!Object(l["a"])(this.loginUser.password))return this.$message.error("请输入正确的密码格式！（5~16位字母，数字或者符号）"),!1;var s=r["Loading"].service(this.options);this.$store.dispatch("Login",this.loginUser).then((function(){s.close(),t.$router.push({path:"/"}),Object(a["b"])().then((function(s){t.data=s.data,0===t.data&&t.$notify.info({title:"提示",message:"请在个人中心里完善自己的信息噢~",duration:0,offset:30})}))})).catch((function(){s.close()}))},codelogin:function(){var t=this;if(!Object(l["b"])(this.loginUser.username))return this.$message.error("请输入正确的手机号格式！"),!1;var s=r["Loading"].service(this.options);this.$store.dispatch("CodeLogin",this.loginUser).then((function(){s.close(),t.$router.push({path:"/"})})).catch((function(){s.close()}))},SendSms:function(){var t=this;if(!Object(l["b"])(this.loginUser.username))return this.$message.error("请输入正确的手机号格式！"),!1;this.timer||(this.count=c,this.show=!1,this.timer=setInterval((function(){t.count>0&&t.count<=c?t.count--:(t.show=!0,clearInterval(t.timer),t.timer=null)}),1e3)),Object(a["f"])(this.loginUser.username).then((function(s){t.code=s.code,200===t.code?t.smsdialog=!0:t.count=5}))}}},u=d,m=(e("d6db"),e("4e82")),g=Object(m["a"])(u,o,n,!1,null,null,null);s["default"]=g.exports},c54a:function(t,s,e){"use strict";function o(t){var s=/^(((13[0-9]{1})|(15[0-9]{1})|(16[0-9]{1})|(17[3-8]{1})|(18[0-9]{1})|(19[0-9]{1})|(14[5-7]{1}))+\d{8})$/;return s.test(t)}function n(t){var s=/^[\w?=.*[!@#$%^&*?]{5,16}$/;return s.test(t)}function i(t){var s=/^(https?|ftp):\/\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/;return s.test(t)}function a(t){var s=/^[A-Za-z]+$/;return s.test(t)}e.d(s,"b",(function(){return o})),e.d(s,"a",(function(){return n})),e.d(s,"d",(function(){return i})),e.d(s,"c",(function(){return a}))},d6db:function(t,s,e){"use strict";var o=e("faa4"),n=e.n(o);n.a},faa4:function(t,s,e){}}]);
//# sourceMappingURL=chunk-cfa782d0.3d37c54d.js.map