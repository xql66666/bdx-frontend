(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d1fc470"],{"2cfd":function(e,s,t){"use strict";var r=t("60dc"),i=t.n(r);i.a},"5daa":function(e,s,t){e.exports=t.p+"bdx-frontend/img/profile_city.435c148e.jpg"},"60dc":function(e,s,t){},"73cf":function(e,s,t){"use strict";t.r(s);var r=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"wrapper"},[t("div",{staticClass:"section page-header header-filter",style:e.headerStyle},[t("div",{staticClass:"container"},[t("div",{staticClass:"md-layout"},[t("div",{staticClass:"md-layout-item md-size-33 md-small-size-66 md-xsmall-size-100 md-medium-size-40 mx-auto"},[t("login-card",{attrs:{"header-color":"green"}},[t("h4",{staticClass:"card-title",attrs:{slot:"title"},slot:"title"},[e._v("注册页面")]),t("p",{staticClass:"description",attrs:{slot:"description"},slot:"description"},[e._v("使用手机号注册")]),t("md-field",{staticClass:"md-form-group",attrs:{slot:"inputs"},slot:"inputs"},[t("md-icon",[e._v("phone_android")]),t("label",[e._v("手机号...")]),t("md-input",{model:{value:e.registerUser.userPhone,callback:function(s){e.$set(e.registerUser,"userPhone",s)},expression:"registerUser.userPhone"}})],1),t("md-field",{staticClass:"md-form-group",attrs:{slot:"inputs"},slot:"inputs"},[t("md-icon",[e._v("chat_bubble_outline")]),t("label",[e._v("6位数字验证码")]),t("md-input",{model:{value:e.registerUser.messageCode,callback:function(s){e.$set(e.registerUser,"messageCode",s)},expression:"registerUser.messageCode"}}),t("md-button",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"md-primary md-raised",attrs:{id:"smsbutton"},on:{click:function(s){return e.SendSms()}}},[e._v("获取验证码")]),t("md-button",{directives:[{name:"show",rawName:"v-show",value:!e.show,expression:"!show"}],staticClass:"md-primary md-raised",attrs:{id:"smsbutton"}},[e._v(e._s(e.count)+"秒")])],1),t("md-field",{staticClass:"md-form-group",attrs:{slot:"inputs"},slot:"inputs"},[t("md-icon",[e._v("lock_outline")]),t("label",[e._v("密码...")]),t("md-input",{attrs:{type:"password"},model:{value:e.registerUser.password,callback:function(s){e.$set(e.registerUser,"password",s)},expression:"registerUser.password"}})],1),t("md-button",{staticClass:"md-simple md-success md-lg",attrs:{slot:"footer"},on:{click:function(s){return e.Register()}},slot:"footer"},[e._v("\n              注册\n            ")])],1),t("md-dialog-alert",{attrs:{"md-active":e.smsdialog,"md-content":"短信验证码发送成功，请留意手机短信通知噢","md-confirm-text":"知道啦!"},on:{"update:mdActive":function(s){e.smsdialog=s},"update:md-active":function(s){e.smsdialog=s}}})],1)])])])])},i=[],o=t("2af9"),n=t("c24f"),a=t("7893"),c=t("0574"),d=t("c54a"),u=60,l={name:"login",components:{LoginCard:o["b"]},bodyClass:"login-page",data:function(){return{registerUser:{userPhone:"",messageCode:"",password:""},info:{},smsdialog:!1,show:!0,count:"",timer:null,options:{text:"注册中..."}}},props:{header:{type:String,default:t("5daa")}},computed:{headerStyle:function(){return{backgroundImage:"url(".concat(this.header,")")}}},methods:{SendSms:function(e){var s=this;if(!Object(d["b"])(this.registerUser.userPhone))return this.$message.error("请输入正确的手机号格式！"),!1;this.timer||(this.count=u,this.show=!1,this.timer=setInterval((function(){s.count>0&&s.count<=u?s.count--:(s.show=!0,clearInterval(s.timer),s.timer=null)}),1e3)),Object(n["g"])(this.registerUser.userPhone).then((function(e){s.code=e.code,200===s.code?s.smsdialog=!0:s.count=5}))},Register:function(e){var s=this;if(!Object(d["b"])(this.registerUser.userPhone))return this.$message.error("请输入正确的手机号格式！"),!1;if(!Object(d["a"])(this.registerUser.password))return this.$message.error("请输入正确的密码格式！（5~16位字母，数字或者符号）"),!1;var t=a["Loading"].service(this.options);Object(n["e"])(this.registerUser.userPhone,c["a"].encrypt(this.registerUser.password),this.registerUser.messageCode).then((function(e){s.code=e.code,200===s.code?(Object(a["Message"])({message:e.msg,type:"success",duration:5e3}),t.close(),s.$router.push({path:"/login"})):(Object(a["Message"])({message:e.msg,type:"error",duration:5e3}),s.registerUser.userPhone="",s.registerUser.password="",s.registerUser.messageCode="",t.close())})).catch((function(){t.close()}))}}},m=l,p=(t("2cfd"),t("4e82")),g=Object(p["a"])(m,r,i,!1,null,null,null);s["default"]=g.exports},c54a:function(e,s,t){"use strict";function r(e){var s=/^(((13[0-9]{1})|(15[0-9]{1})|(16[0-9]{1})|(17[3-8]{1})|(18[0-9]{1})|(19[0-9]{1})|(14[5-7]{1}))+\d{8})$/;return s.test(e)}function i(e){var s=/^[\w?=.*[!@#$%^&*?]{5,16}$/;return s.test(e)}function o(e){var s=/^(https?|ftp):\/\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/;return s.test(e)}function n(e){var s=/^[A-Za-z]+$/;return s.test(e)}t.d(s,"b",(function(){return r})),t.d(s,"a",(function(){return i})),t.d(s,"d",(function(){return o})),t.d(s,"c",(function(){return n}))}}]);
//# sourceMappingURL=chunk-7d1fc470.c17724f9.js.map